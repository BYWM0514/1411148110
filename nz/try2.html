<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>3.0MindAR + HTML 按鈕互動範例</title>
  <script src="https://cdn.jsdelivr.net/npm/aframe@1.4.2/dist/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
  <style>
    body, html {
      margin: 0; padding: 0; overflow: hidden; height: 100%;
      background: #000;
    }
    .buttons {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
    }
    button {
      padding: 10px 20px;
      margin: 0 10px;
      font-size: 16px;
      border-radius: 5px;
      border: none;
      background-color: #fff;
      color: #000;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="buttons">
<button id="btn1"><img src="P1.png" alt="按鈕1" style="width:100px; height:auto;"></button>
<button id="btn2"><img src="P2.png" alt="按鈕2" style="width:100px; height:auto;"></button>
  </div>

  <a-scene
    mindar-image="imageTargetSrc: targets.mind; autoStart: true; uiScanning: true;"
    color-space="sRGB"
    renderer="colorManagement: true; physicallyCorrectLights: true"
    vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false"
  >
    <a-assets>
      <img id="popup1-img" src="1-1.jpg" />
      <img id="popup2-img" src="2-1.jpg" />
    </a-assets>

    <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
    <a-light type="ambient" intensity="1"></a-light>
    <a-light type="directional" position="1 1 1" intensity="0.5"></a-light>

    <a-entity mindar-image-target="targetIndex: 0">
      <a-image id="popup1" src="#popup1-img" position="0 0 0" width="1.5" height="1" visible="false"></a-image>
      <a-image id="popup2" src="#popup2-img" position="0 0 0" width="1.5" height="1" visible="false"></a-image>
    </a-entity>
  </a-scene>

  <script>
    // 等待 A-Frame 場景載入完再綁事件
    window.onload = () => {
      const popup1 = document.querySelector("#popup1");
      const popup2 = document.querySelector("#popup2");
      const btn1 = document.querySelector("#btn1");
      const btn2 = document.querySelector("#btn2");

      btn1.addEventListener("click", () => {
        const isVisible = popup1.getAttribute("visible");
        popup1.setAttribute("visible", !isVisible);
        if (!isVisible) {
          // 顯示時隱藏另一個
          popup2.setAttribute("visible", false);
        }
      });

      btn2.addEventListener("click", () => {
        const isVisible = popup2.getAttribute("visible");
        popup2.setAttribute("visible", !isVisible);
        if (!isVisible) {
          // 顯示時隱藏另一個
          popup1.setAttribute("visible", false);
        }
      });
    };
  </script>
</body>
</html>
